<!DOCTYPE html>
<html lang="id" data-bs-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Aplikasi Kasir Kantin Modern</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  
  <button class="mode-toggle" id="toggleMode">
    <i class="bi bi-moon-stars-fill"></i>
  </button>

  <main class="container py-4">
    <h1 class="main-title mt-5">
      <i class="bi bi-cash-stack"></i> Aplikasi Kasir Kantin
    </h1>

    <ul class="nav nav-pills nav-fill mb-4 rounded-4" id="myTab" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="kasir-tab" data-bs-toggle="tab" data-bs-target="#tab-kasir" type="button" role="tab" aria-controls="tab-kasir" aria-selected="true">
          <i class="bi bi-display"></i> Kasir
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="riwayat-tab" data-bs-toggle="tab" data-bs-target="#tab-riwayat" type="button" role="tab" aria-controls="tab-riwayat" aria-selected="false">
          <i class="bi bi-clock-history"></i> Riwayat
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="laporan-tab" data-bs-toggle="tab" data-bs-target="#tab-laporan" type="button" role="tab" aria-controls="tab-laporan" aria-selected="false">
          <i class="bi bi-bar-chart-line-fill"></i> Laporan
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="pengaturan-tab" data-bs-toggle="tab" data-bs-target="#tab-pengaturan" type="button" role="tab" aria-controls="tab-pengaturan" aria-selected="false">
          <i class="bi bi-gear-fill"></i> Pengaturan
        </button>
      </li>
    </ul>

    <div class="tab-content" id="myTabContent">
      
      <div class="tab-pane fade show active" id="tab-kasir" role="tabpanel" aria-labelledby="kasir-tab">
        <div class="row g-4">
          <div class="col-lg-7">
            <input type="text" id="searchInput" class="form-control form-control-lg mb-4" placeholder="Cari menu...">
            <div id="kategoriFilter" class="d-flex flex-wrap gap-2 mb-4">
              </div>
            <div id="menuList" class="row g-4"></div>
          </div>
          <div class="col-lg-5">
            <div class="card h-100 rounded-4 sticky-top" style="top: 20px;">
              <div class="card-header bg-primary text-white fw-bold rounded-top-4">
                <i class="bi bi-cart4"></i> Keranjang Belanja
              </div>
              <div class="card-body d-flex flex-column">
                <h3 class="card-title">Total: <strong id="totalHarga" class="text-primary">Rp 0</strong></h3>
                <p class="text-muted">Total Item: <span id="itemCount">0</span></p>
                <ul id="cartItemsList" class="list-group list-group-flush mb-3 flex-grow-1" style="overflow-y: auto; max-height: 400px;"></ul>
                <div class="mt-auto">
                  <button class="btn btn-success me-2" id="selesaiBtn">
                    <i class="bi bi-check-circle-fill"></i> Lanjut Bayar
                  </button>
                  <button class="btn btn-danger" id="resetBtn">
                    <i class="bi bi-x-circle-fill"></i> Reset
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="tab-pane fade" id="tab-riwayat" role="tabpanel" aria-labelledby="riwayat-tab">
        <div class="card rounded-4">
          <div class="card-header bg-warning fw-bold rounded-top-4">
            <i class="bi bi-clock-history"></i> Riwayat Transaksi
          </div>
          <div class="card-body">
            <div class="table-responsive" style="max-height: 600px; overflow-y: auto;">
              <table class="table table-striped table-hover" id="riwayatTable">
                <thead>
                  <tr>
                    <th>Nama Barang</th>
                    <th>Harga</th>
                    <th>Waktu Transaksi</th>
                    <th class="text-end">Aksi</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      
      <div class="tab-pane fade" id="tab-laporan" role="tabpanel" aria-labelledby="laporan-tab">
        <div class="row g-4">
          <div class="col-md-6">
            <div class="card rounded-4 text-center">
              <div class="card-header fw-bold">Total Pendapatan (Semua Waktu)</div>
              <div class="card-body">
                <h1 class="display-5 fw-bold text-success" id="totalPendapatan">Rp 0</h1>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="card rounded-4 text-center">
              <div class="card-header fw-bold">Total Transaksi (Semua Waktu)</div>
              <div class="card-body">
                <h1 class="display-5 fw-bold text-primary" id="totalTransaksi">0</h1>
              </div>
            </div>
          </div>
          <div class="col-12">
            <div class="card rounded-4 text-center">
              <div class="card-header fw-bold bg-info">Laporan Hari Ini (<span id="tanggalHariIni"></span>)</div>
              <div class="card-body row">
                <div class="col-6">
                  <h5 class="text-muted">Pendapatan Hari Ini</h5>
                  <h3 class="fw-bold" id="pendapatanHariIni">Rp 0</h3>
                </div>
                <div class="col-6">
                  <h5 class="text-muted">Transaksi Hari Ini</h5>
                  <h3 class="fw-bold" id="transaksiHariIni">0</h3>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="tab-pane fade" id="tab-pengaturan" role="tabpanel" aria-labelledby="pengaturan-tab">
        <div class="row g-4">
          <div class="col-md-5">
            <div class="card rounded-4">
              <div class="card-header fw-bold">
                <i class="bi bi-plus-circle-fill"></i> Tambah Menu Baru
              </div>
              <div class="card-body">
                <button class="btn btn-success btn-lg w-100" id="addMenuBtn">
                  Tambah Menu Baru
                </button>
              </div>
            </div>
            
            <div class="card rounded-4 mt-4">
              <div class="card-header fw-bold text-danger">
                <i class="bi bi-box-arrow-left"></i> Sesi Akun
              </div>
              <div class="card-body text-center">
                <button class="btn btn-danger w-100" id="logoutBtn">
                  <i class="bi bi-box-arrow-left"></i> Logout
                </button>
              </div>
            </div>
          </div>
          <div class="col-md-7">
            <div class="card rounded-4">
              <div class="card-header fw-bold">
                <i class="bi bi-list-ul"></i> Kelola Menu
              </div>
              <div class="card-body">
                <ul id="manageMenuList" class="list-group list-group-flush" style="max-height: 400px; overflow-y: auto;"></ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="quantityModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content rounded-4">
          <div class="modal-header">
            <h5 class="modal-title" id="quantityModalTitle">Masukkan Jumlah</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <p id="quantityModalPrice" class="text-muted"></p>
            <input type="number" class="form-control form-control-lg" id="quantityInput" value="1" min="1">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
            <button type="button" class="btn btn-primary" id="addWithQuantityBtn">Tambahkan</button>
          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="paymentModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content rounded-4">
          <div class="modal-header">
            <h5 class="modal-title">Pembayaran</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <h3 class="fw-bold">Total Belanja: <span id="paymentTotal" class="text-primary">Rp 0</span></h3>
            <hr>
            <div class="mb-3">
              <label for="paymentInput" class="form-label">Uang yang Dibayar (Rp):</label>
              <input type="number" class="form-control form-control-lg" id="paymentInput" placeholder="Contoh: 50000">
            </div>
            <h4 id="paymentChange" class="text-center fw-bold"></h4>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</tton>
            <button type="button" class="btn btn-success" id="processPaymentBtn">
              <i class="bi bi-cash-coin"></i> Proses & Selesaikan
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="tambahMenuModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content rounded-4">
          <div class="modal-header">
            <h5 class="modal-title">Tambah Menu Baru</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <div class="mb-3">
              <label for="tambahNamaInput" class="form-label">Nama Menu</label>
              <input type="text" class="form-control" id="tambahNamaInput">
            </div>
            <div class="mb-3">
              <label for="tambahHargaInput" class="form-label">Harga Menu (Rp)</label>
              <input type="number" class="form-control" id="tambahHargaInput" min="0">
            </div>
            <div class="mb-3">
              <label for="tambahKategoriInput" class="form-label">Kategori</label>
              <select class="form-select" id="tambahKategoriInput">
                </select>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
            <button type="button" class="btn btn-success" id="simpanTambahBtn">Simpan Menu</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="editMenuModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content rounded-4">
          <div class="modal-header">
            <h5 class="modal-title" id="editMenuModalTitle">Edit Menu</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <div class="mb-3">
              <label for="editNamaInput" class="form-label">Nama Menu</label>
              <input type="text" class="form-control" id="editNamaInput">
            </div>
            <div class="mb-3">
              <label for="editHargaInput" class="form-label">Harga Menu (Rp)</label>
              <input type="number" class="form-control" id="editHargaInput" min="0">
            </div>
            <div class="mb-3">
              <label for="editKategoriInput" class="form-label">Kategori</label>
              <select class="form-select" id="editKategoriInput">
                </select>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
            <button type="button" class="btn btn-primary" id="simpanEditBtn">Simpan Perubahan</button>
          </div>
        </div>
      </div>
    </div>

  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="script.js"></script>
</body>
</html>